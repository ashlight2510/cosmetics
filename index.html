<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      property="og:image"
      content="https://dummyimage.com/1200x630/0f172a/ffffff&text=Cosmetics"
    />
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='14' fill='%232f5cff'/%3E%3Cpath d='M20 40c6-8 18-8 24 0' stroke='%23fff' stroke-width='4' stroke-linecap='round' fill='none'/%3E%3Ccircle cx='24' cy='26' r='4' fill='%23fff'/%3E%3Ccircle cx='40' cy='26' r='4' fill='%23fff'/%3E%3C/svg%3E"
    />
    <title>í™”ì¥í’ˆ ë£¨í‹´ ë”¸ê¹ ì²´í¬</title>
    <style>
      .lang-switch {
        display: inline-flex;
        gap: 6px;
        padding: 4px;
        border-radius: 999px;
        background: rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(0, 0, 0, 0.1);
        margin-bottom: 12px;
      }
      .lang-switch button {
        border: none;
        background: transparent;
        color: #666;
        font-size: 12px;
        font-weight: 700;
        padding: 6px 12px;
        border-radius: 999px;
        cursor: pointer;
        letter-spacing: 0.08em;
      }
      .lang-switch button.active {
        background: #2f5cff;
        color: #fff;
      }
      :root {
        color-scheme: light;
      }
      body {
        font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR",
          sans-serif;
        margin: 0;
        background: #f6f7fb;
        color: #111;
      }
      .wrap {
        max-width: 920px;
        margin: 16px auto;
        padding: 24px;
      }
      header {
        background: #fff;
        border: 1px solid #e7e7ee;
        border-radius: 14px;
        padding: 18px 18px 14px;
      }
      h1 {
        font-size: 20px;
        margin: 0 0 6px;
      }
      p.sub {
        margin: 0;
        color: #444;
        font-size: 14px;
        line-height: 1.5;
      }
      .header-actions {
        margin-top: 12px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }
      .link-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border: 1px solid #dfe3ff;
        border-radius: 999px;
        padding: 8px 14px;
        background: #eef2ff;
        color: #1d2a6a;
        text-decoration: none;
        font-weight: 600;
        font-size: 13px;
      }
      .link-btn:hover {
        background: #e1e7ff;
      }
      .grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 14px;
        margin-top: 14px;
      }
      @media (min-width: 860px) {
        .grid {
          grid-template-columns: 1.05fr 0.95fr;
        }
      }
      .card {
        background: #fff;
        border: 1px solid #e7e7ee;
        border-radius: 14px;
        padding: 16px;
      }
      .card h2 {
        font-size: 16px;
        margin: 0 0 10px;
      }
      .step {
        display: none;
      }
      .step.active {
        display: block;
      }
      .step-meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 8px;
        font-size: 12px;
        color: #667085;
      }
      .step-indicator {
        font-weight: 700;
        color: #1d2a6a;
      }
      .step-nav {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 14px;
      }
      .step-nav .ghost {
        background: #eef2ff;
        color: #1d2a6a;
      }
      .row {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }
      .chip {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border: 1px solid #e7e7ee;
        border-radius: 999px;
        padding: 8px 10px;
        background: #fafbff;
        cursor: pointer;
        user-select: none;
      }
      .chip input {
        width: 16px;
        height: 16px;
      }
      label {
        font-size: 14px;
      }
      select {
        width: 100%;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid #e7e7ee;
        background: #fff;
        font-size: 14px;
      }
      .btns {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 12px;
      }
      button {
        border: 0;
        border-radius: 12px;
        padding: 10px 12px;
        font-weight: 600;
        cursor: pointer;
      }
      button.primary {
        background: #2f5cff;
        color: #fff;
      }
      button.ghost {
        background: #eef2ff;
        color: #1d2a6a;
      }
      .muted {
        color: #555;
        font-size: 12.5px;
        line-height: 1.5;
      }
      .pill {
        display: inline-block;
        padding: 6px 10px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 700;
        margin-right: 8px;
      }
      .ok {
        background: #e8fff1;
        color: #0a6b2f;
        border: 1px solid #b6f2cc;
      }
      .warn {
        background: #fff7e8;
        color: #7a4b00;
        border: 1px solid #ffe0a6;
      }
      .bad {
        background: #ffecec;
        color: #7a0010;
        border: 1px solid #ffc2c9;
      }
      ul {
        margin: 8px 0 0;
        padding-left: 18px;
      }
      li {
        margin: 5px 0;
        line-height: 1.45;
      }
      .result h3 {
        margin: 14px 0 6px;
        font-size: 14px;
      }
      .verdict {
        background: #f3f6ff;
        border: 1px solid #dfe6ff;
        border-radius: 14px;
        padding: 12px 14px;
        margin-top: 8px;
      }
      .verdict strong {
        display: block;
        font-size: 15px;
        margin-bottom: 6px;
        color: #132257;
      }
      .share-line {
        margin-top: 8px;
        font-size: 12.5px;
        color: #3d4a7a;
        background: #eef2ff;
        border: 1px dashed #c7d2ff;
        padding: 8px 10px;
        border-radius: 12px;
      }
      .kpi {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 8px;
      }
      .kpi .box {
        border: 1px solid #e7e7ee;
        border-radius: 12px;
        padding: 10px 12px;
        min-width: 160px;
      }
      .kpi .t {
        font-size: 12px;
        color: #555;
        margin: 0 0 4px;
      }
      .kpi .v {
        font-size: 16px;
        font-weight: 800;
        margin: 0;
      }
      footer {
        margin-top: 14px;
        color: #666;
        font-size: 12px;
      }
      code.inline {
        background: #f1f3ff;
        border: 1px solid #e4e7ff;
        padding: 1px 6px;
        border-radius: 8px;
      }
    </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1204894220949193"
     crossorigin="anonymous"></script>
    <!-- responsive-base -->
    <style>
      /* responsive-base */
      *, *::before, *::after {
        box-sizing: border-box;
      }
      html {
        -webkit-text-size-adjust: 100%;
      }
      img,
      video,
      canvas,
      svg {
        max-width: 100%;
        height: auto;
      }
      table {
        width: 100%;
      }
      pre,
      code {
        white-space: pre-wrap;
        word-break: break-word;
      }
    </style>
  <style>
    .adsense-block {
      margin: 16px 0;
      display: flex;
      justify-content: center;
    }
    .adsbygoogle {
      display: block;
      margin: 16px auto;
        text-align: center;
}
  </style>
</head>
  <body><div class="wrap">
      <div class="lang-switch" role="tablist" aria-label="Language switcher">
        <button type="button" data-lang="ko" class="active">í•œêµ­ì–´</button>
        <button type="button" data-lang="en">English</button>
      </div>
      <header>
        <h1 data-i18n="title">í™”ì¥í’ˆ ë£¨í‹´ ë”¸ê¹ ì²´í¬</h1>
        <p class="sub" data-i18n-html="subtitle">
          ì§€ê¸ˆ ì“°ëŠ” ì œí’ˆ/íŠ¹ì§•ë§Œ ì²´í¬í•˜ë©´, ë£¨í‹´ì—ì„œ <b>ë¶€ì¡±Â·ê³¼ì‰</b>ì„ í‘œì‹œí•˜ê³ 
          <b>ìµœì†Œ ì¶”ì²œ</b>ì„ ì•Œë ¤ì¤ë‹ˆë‹¤. (ì°¸ê³ ìš© ì •ë³´ì´ë©° í”¼ë¶€ ì§„ë‹¨/ì¹˜ë£Œê°€
          ì•„ë‹™ë‹ˆë‹¤.)
        </p>
        <div class="header-actions">
          <a
            class="link-btn"
            href="https://funnyfunny.cloud/"
            target="_blank"
            rel="noreferrer"
            data-i18n="otherServices">ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°</a
          >
        </div>
      </header>

      <div class="grid">
        <!-- INPUT -->
        <section class="card">
          <div class="step-meta">
            <span data-i18n="stepHint">ë‹¨ê³„ë³„ë¡œ ëˆŒëŸ¬ì£¼ì„¸ìš”</span>
            <span class="step-indicator" id="stepLabel">1 / 4</span>
          </div>

          <div class="step active" data-step="1">
            <h2 data-i18n="step1Title">1) ì§€ê¸ˆ ì“°ëŠ” ì œí’ˆ ì¢…ë¥˜</h2>
            <div class="row" id="products">
              <label class="chip"
                ><input type="checkbox" value="toner" /><span data-i18n="productToner">í† ë„ˆ</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="serum" /><span data-i18n="productSerum">ì—ì„¼ìŠ¤/ì„¸ëŸ¼</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="lotion" /><span data-i18n="productLotion">ë¡œì…˜</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="cream" /><span data-i18n="productCream">í¬ë¦¼</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="sunscreen" /><span data-i18n="productSunscreen">ì„ í¬ë¦¼</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="cushion" /><span data-i18n="productCushion">ì¿ ì…˜/íŒŒìš´ë°ì´ì…˜</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="allinone" /><span data-i18n="productAllinone">ì˜¬ì¸ì›</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="exfoliant" /><span data-i18n="productExfoliant">ê°ì§ˆ/íŠ¸ëŸ¬ë¸” ì¼€ì–´(AHA/BHA ë“±)</span></label
              >
            </div>
          </div>

          <div class="step" data-step="2">
            <h2 data-i18n="step2Title">2) ë‚´ ì œí’ˆ íŠ¹ì§•(ì²´ê° ê¸°ì¤€)</h2>
            <div class="row" id="traits">
              <label class="chip"
                ><input type="checkbox" value="hydrating" /><span data-i18n="traitHydrating">ë³´ìŠµ ìœ„ì£¼</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="light" /><span data-i18n="traitLight">ìœ ë¶„ ì ìŒ/ê°€ë²¼ì›€</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="soothing" /><span data-i18n="traitSoothing">ì§„ì •/ì¿¨ë§ ëŠë‚Œ</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="toneup" /><span data-i18n="traitToneup">í†¤ ë³´ì •/ë©”ì´í¬ì—… ëŒ€ì²´</span></label
              >
              <label class="chip"
                ><input type="checkbox" value="spf" /><span data-i18n="traitSpf">ìì™¸ì„  ì°¨ë‹¨ í¬í•¨</span></label
              >
            </div>
          </div>

          <div class="step" data-step="3">
            <h2 data-i18n="step3Title">3) í”¼ë¶€ íƒ€ì…</h2>
            <select id="skin">
              <option value="unknown" data-i18n="skinUnknown">ì˜ ëª¨ë¥´ê² ìŒ</option>
              <option value="dry" data-i18n="skinDry">ê±´ì„±</option>
              <option value="oily" data-i18n="skinOily">ì§€ì„±</option>
              <option value="combo" data-i18n="skinCombo">ë³µí•©ì„±</option>
              <option value="sensitive" data-i18n="skinSensitive">ë¯¼ê°ì„±</option>
            </select>
          </div>

          <div class="step" data-step="4">
            <h2 data-i18n="step4Title">4) ëª©í‘œ</h2>
            <select id="goal">
              <option value="simplify" data-i18n="goalSimplify">ìµœëŒ€í•œ ë‹¨ìˆœí™”(ê·€ì°®ìŒ ìµœì†Œ)</option>
              <option value="balance" data-i18n="goalBalance">ê¸°ëŠ¥ ë°¸ëŸ°ìŠ¤(ìµœì†Œ êµ¬ì„±)</option>
              <option value="makeup" data-i18n="goalMakeup">í†¤ë³´ì •/ë©”ì´í¬ì—… ê²¸ìš© ì„ í˜¸</option>
            </select>

            <div class="btns">
              <button class="primary" id="analyze" data-i18n="btnAnalyze">ë¶„ì„í•˜ê¸°</button>
              <button class="ghost" id="reset" data-i18n="btnReset">ì´ˆê¸°í™”</button>
            </div>
          </div>

          <div class="step-nav">
            <button class="ghost" id="prevStep" data-i18n="btnPrev">ì´ì „</button>
            <button class="ghost" id="nextStep" data-i18n="btnNext">ë‹¤ìŒ</button>
          </div>

          <p class="muted" style="margin-top: 10px" data-i18n-html="tip">
            íŒ: <span class="inline code">ì„ í¬ë¦¼</span>ì€ ëŒ€ë¶€ë¶„ì˜ ë£¨í‹´ì—ì„œ
            í•µì‹¬ìœ¼ë¡œ ì·¨ê¸‰ë©ë‹ˆë‹¤. ë¯¼ê°ì„±ì€ ê°ì§ˆ ì¼€ì–´ ì¤‘ë³µ ì‹œ ìê·¹ ìœ„í—˜ì´ ì»¤ì§ˆ ìˆ˜
            ìˆì–´ ë³´ìˆ˜ì ìœ¼ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.
          </p>
        </section>

        <!-- RESULT -->
        <section class="card result" aria-live="polite">
          <h2 data-i18n="resultTitle">ê²°ê³¼</h2>

          <div class="verdict" id="verdictBox">
            <strong id="verdictTitle">-</strong>
            <span id="verdictDetail">-</span>
            <div class="share-line" id="shareLine">-</div>
          </div>

          <div class="kpi">
            <div class="box">
              <p class="t" data-i18n="kpiCurrent">í˜„ì¬ ë‹¨ê³„ ìˆ˜</p>
              <p class="v" id="currentSteps">-</p>
            </div>
            <div class="box">
              <p class="t" data-i18n="kpiMin">ì¶”ì²œ ìµœì†Œ ë‹¨ê³„</p>
              <p class="v" id="minSteps">-</p>
            </div>
            <div class="box">
              <p class="t" data-i18n="kpiReduce">ì¤„ì¼ ìˆ˜ ìˆëŠ” ë‹¨ê³„</p>
              <p class="v" id="reduceSteps">-</p>
            </div>
          </div>

          <h3><span class="pill ok" data-i18n="labelOk">ì¶©ë¶„</span><span data-i18n="labelOkDesc">í˜„ì¬ ì˜ ì»¤ë²„ë˜ëŠ” ê²ƒ</span></h3>
          <ul id="okList">
            <li>-</li>
          </ul>

          <h3><span class="pill bad" data-i18n="labelMissing">ë¶€ì¡±</span><span data-i18n="labelMissingDesc">ì¶”ê°€í•˜ë©´ ì¢‹ì€ ê²ƒ(ìµœì†Œ)</span></h3>
          <ul id="missingList">
            <li>-</li>
          </ul>

          <h3><span class="pill warn" data-i18n="labelSkip">ì‚­ì œ</span><span data-i18n="labelSkipDesc">ì§€ê¸ˆ ì•ˆ í•´ë„ ë˜ëŠ” ê²ƒ</span></h3>
          <ul id="skipList">
            <li>-</li>
          </ul>

          <h3><span class="pill warn" data-i18n="labelWarn">ì£¼ì˜</span><span data-i18n="labelWarnDesc">ì¤‘ë³µ/ìê·¹ ê°€ëŠ¥ì„±</span></h3>
          <ul id="warnList">
            <li>-</li>
          </ul>

          <h3 data-i18n="labelSwap">ëŒ€ì²´/ì •ë¦¬ ì¶”ì²œ</h3>
          <ul id="swapList">
            <li>-</li>
          </ul>

          <h3 data-i18n="labelMinRoutine">ì¶”ì²œ ìµœì†Œ ë£¨í‹´(ì˜ˆì‹œ)</h3>
          <ul id="minRoutineList">
            <li>-</li>
          </ul>

          <footer data-i18n="footer">
            ì´ ê²°ê³¼ëŠ” ì‚¬ìš©ìê°€ ì„ íƒí•œ ì •ë³´ì— ê¸°ë°˜í•œ ì¼ë°˜ì  ê°€ì´ë“œì…ë‹ˆë‹¤. ê°œì¸ë³„
            ì•Œë ˆë¥´ê¸°/ì§ˆí™˜/ì•½ë¬¼ ì‚¬ìš© ë“±ì€ ë°˜ì˜í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
          </footer>
        </section>
      </div>
    </div>

    <script>
      // --- Simple rule engine (MVP) ---
      const $ = (sel) => document.querySelector(sel);
      const $$ = (sel) => Array.from(document.querySelectorAll(sel));

      function getCheckedValues(containerId) {
        return $$(`#${containerId} input[type="checkbox"]:checked`).map(
          (x) => x.value
        );
      }

      function uniq(arr) {
        return Array.from(new Set(arr));
      }

      function renderList(el, items) {
        el.innerHTML = "";
        if (!items.length) {
          const li = document.createElement("li");
          li.textContent = "-";
          el.appendChild(li);
          return;
        }
        items.forEach((t) => {
          const li = document.createElement("li");
          li.textContent = t;
          el.appendChild(li);
        });
      }

      function analyze() {
        const products = getCheckedValues("products");
        const traits = getCheckedValues("traits");
        const skin = $("#skin").value;
        const goal = $("#goal").value;

        // Signals (what the user likely has)
        const has = {
          cleanse: false, // not asked in MVP
          hydrate:
            traits.includes("hydrating") ||
            products.some((p) =>
              ["toner", "serum", "lotion", "cream", "allinone"].includes(p)
            ),
          occlusive: products.includes("cream") || products.includes("lotion"),
          soothe:
            traits.includes("soothing") ||
            products.includes("toner") ||
            products.includes("serum"),
          spf:
            traits.includes("spf") ||
            products.includes("sunscreen") ||
            (products.includes("cushion") &&
              traits.includes("toneup") &&
              traits.includes("spf")),
          tone: traits.includes("toneup") || products.includes("cushion"),
          exfoliate: products.includes("exfoliant"),
          allinone: products.includes("allinone"),
        };

        // Coverage buckets
        const ok = [];
        const missing = [];
        const warn = [];
        const skip = [];
        const swap = [];
        const minRoutine = [];

        // 1) SPF is the main "missing" for daytime routines
        if (has.spf) ok.push(t("msgSpfOk"));
        else
          missing.push(t("msgSpfMissing"));

        // 2) Hydration / Moisture
        if (has.hydrate) ok.push(t("msgHydrateOk"));
        else
          missing.push(t("msgHydrateMissing"));

        // 3) Barrier / Occlusive
        if (skin === "dry") {
          if (has.occlusive) ok.push(t("msgOcclusiveOk"));
          else
            missing.push(t("msgOcclusiveMissing"));
        }
        if (skin === "oily") {
          // Warn if too heavy
          if (
            products.includes("cream") &&
            traits.includes("hydrating") &&
            !traits.includes("light")
          ) {
            warn.push(t("msgOilyWarn"));
          }
        }

        // 4) Exfoliant caution
        if (has.exfoliate) {
          ok.push(t("msgExfoliateOk"));
          if (skin === "sensitive")
            warn.push(t("msgSensitiveWarn"));
        }

        // 5) Duplication / overuse heuristics
        const baseCount = [
          "toner",
          "serum",
          "lotion",
          "cream",
          "allinone",
        ].filter((p) => products.includes(p)).length;
        if (baseCount >= 4 && goal === "simplify")
          warn.push(t("msgBaseCountWarn"));
        if (products.includes("allinone") && baseCount >= 3)
          warn.push(t("msgAllinoneWarn"));
        if (
          products.includes("sunscreen") &&
          products.includes("cushion") &&
          traits.includes("spf")
        )
          warn.push(t("msgSpfOverlapWarn"));

        // 6) Skip list (what you can drop now)
        if (products.includes("toner") && (products.includes("lotion") || products.includes("cream") || products.includes("allinone")))
          skip.push(t("msgTonerSkip"));
        if (products.includes("serum") && baseCount >= 3)
          skip.push(t("msgSerumSkip"));
        if (has.spf && has.tone)
          skip.push(t("msgCushionSkip"));
        if (has.exfoliate)
          skip.push(t("msgExfoliateSkip"));

        // 7) Swap / consolidate suggestions
        if (products.includes("sunscreen") && products.includes("cushion"))
          swap.push(t("msgSunscreenCushionSwap"));
        if (products.includes("toner") && products.includes("lotion"))
          swap.push(t("msgTonerLotionSwap"));
        if (products.includes("lotion") && products.includes("cream"))
          swap.push(t("msgLotionCreamSwap"));
        if (goal === "simplify" && baseCount >= 3)
          swap.push(t("msgSimplifySwap"));

        // 8) Minimal routine example
        if (!has.spf)
          minRoutine.push(t("msgMorningNoSpf"));
        else if (goal === "makeup")
          minRoutine.push(t("msgMorningMakeup"));
        else minRoutine.push(t("msgMorningDefault"));
        minRoutine.push(t("msgEvening"));
        if (has.exfoliate)
          minRoutine.push(t("msgExfoliateFreq"));

        // 9) Verdict + numbers
        const spfStep = has.spf ? 1 : 0;
        const toneStep = has.tone ? 1 : 0;
        const exfoliateStep = has.exfoliate ? 1 : 0;
        const currentSteps = baseCount + spfStep + toneStep + exfoliateStep;
        const minSteps = 2;
        const reducible = Math.max(0, currentSteps - minSteps);

        let verdictTitle = t("verdictMinimal");
        let verdictDetail = t("verdictMinimalDesc");
        if (!has.spf || !has.hydrate) {
          verdictTitle = t("verdictEmpty");
          verdictDetail = t("verdictEmptyDesc");
        } else if (reducible >= 2) {
          verdictTitle = t("verdictExcess");
          verdictDetail = t("verdictExcessDesc");
        } else if (reducible === 1) {
          verdictTitle = t("verdictMany");
          verdictDetail = t("verdictManyDesc");
        }

        const shareLine = `${t("kpiCurrent")} ${currentSteps}${t("unitSteps")} â†’ ${t("kpiMin")} ${minSteps}${t("unitSteps")}, ${t("kpiReduce")} -${reducible}`;

        // 10) Normalize / de-dup
        renderList($("#okList"), uniq(ok));
        renderList($("#missingList"), uniq(missing));
        renderList($("#warnList"), uniq(warn));
        renderList($("#skipList"), uniq(skip));
        renderList($("#swapList"), uniq(swap));
        renderList($("#minRoutineList"), uniq(minRoutine));

        $("#verdictTitle").textContent = verdictTitle;
        $("#verdictDetail").textContent = verdictDetail;
        $("#shareLine").textContent = shareLine;
        $("#currentSteps").textContent = `${currentSteps}${t("unitSteps")}`;
        $("#minSteps").textContent = `${minSteps}${t("unitSteps")}`;
        $("#reduceSteps").textContent = `-${reducible}`;
      }

      function resetAll() {
        $$('input[type="checkbox"]').forEach((x) => (x.checked = false));
        $("#skin").value = "unknown";
        $("#goal").value = "simplify";
        // Clear outputs
        $("#verdictTitle").textContent = "-";
        $("#verdictDetail").textContent = "-";
        $("#shareLine").textContent = "-";
        $("#currentSteps").textContent = "-";
        $("#minSteps").textContent = "-";
        $("#reduceSteps").textContent = "-";
        renderList($("#okList"), []);
        renderList($("#missingList"), []);
        renderList($("#warnList"), []);
        renderList($("#skipList"), []);
        renderList($("#swapList"), []);
        renderList($("#minRoutineList"), []);
        setStep(1);
      }

      $("#analyze").addEventListener("click", analyze);
      $("#reset").addEventListener("click", resetAll);

      const steps = Array.from(document.querySelectorAll(".step"));
      const totalSteps = steps.length;

      function setStep(index) {
        steps.forEach((step, idx) => {
          step.classList.toggle("active", idx === index - 1);
        });
        $("#stepLabel").textContent = `${index} / ${totalSteps}`;
        $("#prevStep").disabled = index === 1;
        $("#nextStep").disabled = index === totalSteps;
        $("#prevStep").style.opacity = index === 1 ? "0.5" : "1";
        $("#nextStep").style.opacity = index === totalSteps ? "0.5" : "1";
      }

      let currentStep = 1;
      setStep(currentStep);

      $("#prevStep").addEventListener("click", () => {
        if (currentStep > 1) currentStep -= 1;
        setStep(currentStep);
      });

      $("#nextStep").addEventListener("click", () => {
        if (currentStep < totalSteps) currentStep += 1;
        setStep(currentStep);
      });

      // Initial defaults
      resetAll();

      // i18n
      const translations = {
        ko: {
          title: "í™”ì¥í’ˆ ë£¨í‹´ ë”¸ê¹ ì²´í¬",
          subtitle: "ì§€ê¸ˆ ì“°ëŠ” ì œí’ˆ/íŠ¹ì§•ë§Œ ì²´í¬í•˜ë©´, ë£¨í‹´ì—ì„œ <b>ë¶€ì¡±Â·ê³¼ì‰</b>ì„ í‘œì‹œí•˜ê³  <b>ìµœì†Œ ì¶”ì²œ</b>ì„ ì•Œë ¤ì¤ë‹ˆë‹¤. (ì°¸ê³ ìš© ì •ë³´ì´ë©° í”¼ë¶€ ì§„ë‹¨/ì¹˜ë£Œê°€ ì•„ë‹™ë‹ˆë‹¤.)",
          otherServices: "ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°",
          stepHint: "ë‹¨ê³„ë³„ë¡œ ëˆŒëŸ¬ì£¼ì„¸ìš”",
          step1Title: "1) ì§€ê¸ˆ ì“°ëŠ” ì œí’ˆ ì¢…ë¥˜",
          step2Title: "2) ë‚´ ì œí’ˆ íŠ¹ì§•(ì²´ê° ê¸°ì¤€)",
          step3Title: "3) í”¼ë¶€ íƒ€ì…",
          step4Title: "4) ëª©í‘œ",
          skinUnknown: "ì˜ ëª¨ë¥´ê² ìŒ",
          skinDry: "ê±´ì„±",
          skinOily: "ì§€ì„±",
          skinCombo: "ë³µí•©ì„±",
          skinSensitive: "ë¯¼ê°ì„±",
          goalSimplify: "ìµœëŒ€í•œ ë‹¨ìˆœí™”(ê·€ì°®ìŒ ìµœì†Œ)",
          goalBalance: "ê¸°ëŠ¥ ë°¸ëŸ°ìŠ¤(ìµœì†Œ êµ¬ì„±)",
          goalMakeup: "í†¤ë³´ì •/ë©”ì´í¬ì—… ê²¸ìš© ì„ í˜¸",
          btnAnalyze: "ë¶„ì„í•˜ê¸°",
          btnReset: "ì´ˆê¸°í™”",
          btnPrev: "ì´ì „",
          btnNext: "ë‹¤ìŒ",
          resultTitle: "ê²°ê³¼",
          kpiCurrent: "í˜„ì¬ ë‹¨ê³„ ìˆ˜",
          kpiMin: "ì¶”ì²œ ìµœì†Œ ë‹¨ê³„",
          kpiReduce: "ì¤„ì¼ ìˆ˜ ìˆëŠ” ë‹¨ê³„",
          labelOk: "ì¶©ë¶„",
          labelOkDesc: "í˜„ì¬ ì˜ ì»¤ë²„ë˜ëŠ” ê²ƒ",
          labelMissing: "ë¶€ì¡±",
          labelMissingDesc: "ì¶”ê°€í•˜ë©´ ì¢‹ì€ ê²ƒ(ìµœì†Œ)",
          labelSkip: "ì‚­ì œ",
          labelSkipDesc: "ì§€ê¸ˆ ì•ˆ í•´ë„ ë˜ëŠ” ê²ƒ",
          labelWarn: "ì£¼ì˜",
          labelWarnDesc: "ì¤‘ë³µ/ìê·¹ ê°€ëŠ¥ì„±",
          labelSwap: "ëŒ€ì²´/ì •ë¦¬ ì¶”ì²œ",
          labelMinRoutine: "ì¶”ì²œ ìµœì†Œ ë£¨í‹´(ì˜ˆì‹œ)",
          footer: "ì´ ê²°ê³¼ëŠ” ì‚¬ìš©ìê°€ ì„ íƒí•œ ì •ë³´ì— ê¸°ë°˜í•œ ì¼ë°˜ì  ê°€ì´ë“œì…ë‹ˆë‹¤. ê°œì¸ë³„ ì•Œë ˆë¥´ê¸°/ì§ˆí™˜/ì•½ë¬¼ ì‚¬ìš© ë“±ì€ ë°˜ì˜í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
          tip: "íŒ: <span class=\"inline code\">ì„ í¬ë¦¼</span>ì€ ëŒ€ë¶€ë¶„ì˜ ë£¨í‹´ì—ì„œ í•µì‹¬ìœ¼ë¡œ ì·¨ê¸‰ë©ë‹ˆë‹¤. ë¯¼ê°ì„±ì€ ê°ì§ˆ ì¼€ì–´ ì¤‘ë³µ ì‹œ ìê·¹ ìœ„í—˜ì´ ì»¤ì§ˆ ìˆ˜ ìˆì–´ ë³´ìˆ˜ì ìœ¼ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.",
          productToner: "í† ë„ˆ",
          productSerum: "ì—ì„¼ìŠ¤/ì„¸ëŸ¼",
          productLotion: "ë¡œì…˜",
          productCream: "í¬ë¦¼",
          productSunscreen: "ì„ í¬ë¦¼",
          productCushion: "ì¿ ì…˜/íŒŒìš´ë°ì´ì…˜",
          productAllinone: "ì˜¬ì¸ì›",
          productExfoliant: "ê°ì§ˆ/íŠ¸ëŸ¬ë¸” ì¼€ì–´(AHA/BHA ë“±)",
          traitHydrating: "ë³´ìŠµ ìœ„ì£¼",
          traitLight: "ìœ ë¶„ ì ìŒ/ê°€ë²¼ì›€",
          traitSoothing: "ì§„ì •/ì¿¨ë§ ëŠë‚Œ",
          traitToneup: "í†¤ ë³´ì •/ë©”ì´í¬ì—… ëŒ€ì²´",
          traitSpf: "ìì™¸ì„  ì°¨ë‹¨ í¬í•¨",
          msgSpfOk: "ìì™¸ì„  ì°¨ë‹¨(ì„ ì¼€ì–´)",
          msgSpfMissing: "ìì™¸ì„  ì°¨ë‹¨: ì„ í¬ë¦¼(ë˜ëŠ” SPF í¬í•¨ ì œí’ˆ) 1ê°œëŠ” ê±°ì˜ í•„ìˆ˜ì— ê°€ê¹ìŠµë‹ˆë‹¤.",
          msgHydrateOk: "ê¸°ë³¸ ë³´ìŠµ(ìˆ˜ë¶„ ê³µê¸‰)",
          msgHydrateMissing: "ê¸°ë³¸ ë³´ìŠµ: ê°€ë²¼ìš´ ë³´ìŠµì œ(ë¡œì…˜/ì˜¬ì¸ì›/ìˆ˜ë¶„í¬ë¦¼ ì¤‘ 1ê°œ)",
          msgOcclusiveOk: "ìœ ë¶„/ë§‰ í˜•ì„±(ê±´ì„± ë³´ì™„)",
          msgOcclusiveMissing: "ê±´ì„± ë³´ì™„: í¬ë¦¼ ë˜ëŠ” ì˜¤í´ë£¨ì‹œë¸Œ(ë§‰ í˜•ì„±) ì—­í•  1ê°œ",
          msgOilyWarn: "ì§€ì„±ì¸ë° í¬ë¦¼/ë³´ìŠµ ìœ„ì£¼ ì¡°í•©ì´ ë¬´ê²ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤(ë²ˆë“¤/ë°€ë¦¼ ê°€ëŠ¥).",
          msgExfoliateOk: "ê°ì§ˆ/íŠ¸ëŸ¬ë¸” ì¼€ì–´",
          msgSensitiveWarn: "ë¯¼ê°ì„± + ê°ì§ˆ/íŠ¸ëŸ¬ë¸” ì¼€ì–´ëŠ” ìê·¹ ê°€ëŠ¥ì„±ì´ ë†’ì•„ ë¹ˆë„/ë†ë„ ì¡°ì ˆì´ í•„ìš”í•©ë‹ˆë‹¤.",
          msgBaseCountWarn: "ê¸°ì´ˆ ë‹¨ê³„ê°€ ë§ìŠµë‹ˆë‹¤. ë‹¨ìˆœí™” ëª©í‘œë¼ë©´ 1~2ë‹¨ê³„ë¡œ ì¤„ì—¬ë„ ì²´ê° ì°¨ì´ê°€ ì ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
          msgAllinoneWarn: "ì˜¬ì¸ì›ì´ ìˆëŠ”ë° ê¸°ì´ˆê°€ ì—¬ëŸ¬ ê°œ ê²¹ì¹©ë‹ˆë‹¤. ì˜¬ì¸ì› ì¤‘ì‹¬ìœ¼ë¡œ ì •ë¦¬ ê°€ëŠ¥í•´ ë³´ì…ë‹ˆë‹¤.",
          msgSpfOverlapWarn: "SPF ì œí’ˆì´ 2ê°œ ì´ìƒ ê²¹ì¹©ë‹ˆë‹¤. ì‚¬ìš©ê°/ë°€ë¦¼ì´ ìƒê¸°ë©´ í•˜ë‚˜ë§Œ ë‚¨ê²¨ë„ ë©ë‹ˆë‹¤.",
          msgTonerSkip: "í† ë„ˆ: ë¡œì…˜/í¬ë¦¼/ì˜¬ì¸ì›ì´ ìˆìœ¼ë©´ í•„ìˆ˜ ì•„ë‹˜",
          msgSerumSkip: "ì„¸ëŸ¼: ê¸°ì´ˆ ë‹¨ê³„ê°€ ë§ìœ¼ë©´ ìš°ì„  ë¹¼ê³  ì²´ê° í™•ì¸",
          msgCushionSkip: "ì¿ ì…˜/í†¤ë³´ì •: ì„ ì¼€ì–´ê°€ ì¶©ë¶„í•˜ë©´ ìƒëµ ê°€ëŠ¥",
          msgExfoliateSkip: "ê°ì§ˆ ì¼€ì–´: ë§¤ì¼ì€ ë¶ˆí•„ìš”(ì£¼ 2~3íšŒë©´ ì¶©ë¶„)",
          msgSunscreenCushionSwap: "ì„ í¬ë¦¼ + ì¿ ì…˜ â†’ í†¤ì—… ì„ í¬ë¦¼ 1ê°œë¡œ í•©ì¹˜ê¸° ê°€ëŠ¥",
          msgTonerLotionSwap: "í† ë„ˆ + ë¡œì…˜ â†’ ê°€ë²¼ìš´ ë¡œì…˜ 1ê°œë¡œ ëŒ€ì²´ ê°€ëŠ¥",
          msgLotionCreamSwap: "ë¡œì…˜ + í¬ë¦¼ â†’ ë³´ìŠµê° ê¸°ì¤€ìœ¼ë¡œ 1ê°œë§Œ ë‚¨ê¸°ê¸°",
          msgSimplifySwap: "ê¸°ì´ˆ ë‹¤ë‹¨ê³„ â†’ ì˜¬ì¸ì› 1ê°œ ë˜ëŠ” ë¡œì…˜ 1ê°œë¡œ ì •ë¦¬ ê¶Œì¥",
          msgMorningNoSpf: "ì•„ì¹¨: ê°€ë²¼ìš´ ë³´ìŠµ 1ê°œ + ì„ í¬ë¦¼ 1ê°œ(ì¶”ê°€)",
          msgMorningMakeup: "ì•„ì¹¨: í†¤ì—… ê°€ëŠ¥í•œ ì„ í¬ë¦¼ 1ê°œë¡œ í†µí•©",
          msgMorningDefault: "ì•„ì¹¨: ë³´ìŠµ 1ê°œ + ì„ ì¼€ì–´ 1ê°œ",
          msgEvening: "ì €ë…: ë³´ìŠµ 1ê°œë§Œ",
          msgExfoliateFreq: "ê°ì§ˆ ì¼€ì–´: ì£¼ 2~3íšŒë¡œ ë¹ˆë„ ë‚®ì¶”ê¸°",
          verdictMinimal: "ğŸ‘‰ ì´ë¯¸ ìµœì†Œ ë£¨í‹´ì…ë‹ˆë‹¤",
          verdictMinimalDesc: "ì§€ê¸ˆë³´ë‹¤ ë” ì¤„ì´ë©´ ë³´ìŠµ ì²´ê°ì´ ë–¨ì–´ì§ˆ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.",
          verdictEmpty: "ğŸ‘‰ í•µì‹¬ì´ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤",
          verdictEmptyDesc: "ë³´ìŠµ ë˜ëŠ” ì„ ì¼€ì–´ ì¤‘ í•˜ë‚˜ëŠ” ê¼­ ì±„ìš°ëŠ” í¸ì´ ì•ˆì „í•©ë‹ˆë‹¤.",
          verdictExcess: "ğŸ‘‰ ì§€ê¸ˆ ë£¨í‹´ì€ ì¡°ê¸ˆ ê³¼í•©ë‹ˆë‹¤",
          verdictExcessDesc: "2ë‹¨ê³„ê¹Œì§€ ì¤„ì—¬ë„ ì²´ê° ì°¨ì´ê°€ ê±°ì˜ ì—†ì„ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.",
          verdictMany: "ğŸ‘‰ ì•½ê°„ ë§ì€ í¸ì…ë‹ˆë‹¤",
          verdictManyDesc: "í•œ ë‹¨ê³„ë§Œ ì¤„ì—¬ë„ ê·€ì°®ìŒì´ ëˆˆì— ë„ê²Œ ì¤„ì–´ë“­ë‹ˆë‹¤.",
          unitSteps: "ë‹¨ê³„",
        },
        en: {
          title: "Cosmetics Routine Checker",
          subtitle: "Check your current products/features, and we'll show <b>gapsÂ·excess</b> in your routine and recommend <b>minimal essentials</b>. (Reference info only, not a skin diagnosis/treatment.)",
          otherServices: "View other services",
          stepHint: "Click step by step",
          step1Title: "1) Product types you use",
          step2Title: "2) Product features (by feel)",
          step3Title: "3) Skin type",
          step4Title: "4) Goal",
          skinUnknown: "Not sure",
          skinDry: "Dry",
          skinOily: "Oily",
          skinCombo: "Combination",
          skinSensitive: "Sensitive",
          goalSimplify: "Maximize simplicity (minimize hassle)",
          goalBalance: "Functional balance (minimal setup)",
          goalMakeup: "Prefer tone-up/makeup combo",
          btnAnalyze: "Analyze",
          btnReset: "Reset",
          btnPrev: "Previous",
          btnNext: "Next",
          resultTitle: "Result",
          kpiCurrent: "Current steps",
          kpiMin: "Recommended minimum",
          kpiReduce: "Steps you can reduce",
          labelOk: "Sufficient",
          labelOkDesc: "Currently well covered",
          labelMissing: "Missing",
          labelMissingDesc: "Good to add (minimum)",
          labelSkip: "Skip",
          labelSkipDesc: "Not needed now",
          labelWarn: "Caution",
          labelWarnDesc: "Duplication/irritation risk",
          labelSwap: "Swap/consolidate suggestions",
          labelMinRoutine: "Recommended minimal routine (example)",
          footer: "This result is a general guide based on your selections. Individual allergies/conditions/medications cannot be reflected.",
          tip: "Tip: <span class=\"inline code\">Sunscreen</span> is treated as essential in most routines. Sensitive skin may have higher irritation risk with exfoliant overlap, so we guide conservatively.",
          productToner: "Toner",
          productSerum: "Essence/Serum",
          productLotion: "Lotion",
          productCream: "Cream",
          productSunscreen: "Sunscreen",
          productCushion: "Cushion/Foundation",
          productAllinone: "All-in-one",
          productExfoliant: "Exfoliant/Trouble care (AHA/BHA etc.)",
          traitHydrating: "Hydrating focus",
          traitLight: "Low oil/lightweight",
          traitSoothing: "Soothing/cooling feel",
          traitToneup: "Tone correction/makeup replacement",
          traitSpf: "SPF included",
          msgSpfOk: "SPF (sun care)",
          msgSpfMissing: "SPF: One sunscreen (or SPF product) is almost essential.",
          msgHydrateOk: "Basic hydration (moisture supply)",
          msgHydrateMissing: "Basic hydration: One lightweight moisturizer (lotion/all-in-one/moisturizer)",
          msgOcclusiveOk: "Oil/barrier formation (dry skin support)",
          msgOcclusiveMissing: "Dry skin support: One cream or occlusive (barrier-forming) product",
          msgOilyWarn: "Oily skin with cream/hydrating combo may feel heavy (pilling/stickiness possible).",
          msgExfoliateOk: "Exfoliant/trouble care",
          msgSensitiveWarn: "Sensitive + exfoliant/trouble care has high irritation risk, frequency/concentration control needed.",
          msgBaseCountWarn: "Too many base steps. For simplification goal, reducing to 1-2 steps may have minimal difference.",
          msgAllinoneWarn: "All-in-one exists but base steps overlap. Can consolidate around all-in-one.",
          msgSpfOverlapWarn: "Two or more SPF products overlap. If pilling/stickiness occurs, keep only one.",
          msgTonerSkip: "Toner: Not essential if lotion/cream/all-in-one exists",
          msgSerumSkip: "Serum: If base steps are many, remove first and check feel",
          msgCushionSkip: "Cushion/tone-up: Can skip if sun care is sufficient",
          msgExfoliateSkip: "Exfoliant care: Not needed daily (2-3 times/week is enough)",
          msgSunscreenCushionSwap: "Sunscreen + cushion â†’ Can combine into one tone-up sunscreen",
          msgTonerLotionSwap: "Toner + lotion â†’ Can replace with one lightweight lotion",
          msgLotionCreamSwap: "Lotion + cream â†’ Keep only one based on moisturizing feel",
          msgSimplifySwap: "Multi-step base â†’ Recommend consolidating to all-in-one or one lotion",
          msgMorningNoSpf: "Morning: One lightweight moisturizer + one sunscreen (add)",
          msgMorningMakeup: "Morning: Integrate into one tone-up sunscreen",
          msgMorningDefault: "Morning: One moisturizer + one sun care",
          msgEvening: "Evening: One moisturizer only",
          msgExfoliateFreq: "Exfoliant care: Lower frequency to 2-3 times/week",
          verdictMinimal: "ğŸ‘‰ Already minimal routine",
          verdictMinimalDesc: "Reducing further may lower moisturizing feel.",
          verdictEmpty: "ğŸ‘‰ Core is missing",
          verdictEmptyDesc: "It's safer to fill either hydration or sun care.",
          verdictExcess: "ğŸ‘‰ Current routine is a bit excessive",
          verdictExcessDesc: "Reducing by 2 steps may have almost no difference in feel.",
          verdictMany: "ğŸ‘‰ Slightly too many",
          verdictManyDesc: "Reducing by one step will noticeably reduce hassle.",
          unitSteps: "steps",
        },
      };

      const defaultLang = "ko";
      const supportedLangs = ["ko", "en"];
      let currentLang = defaultLang;

      function t(key, vars = {}) {
        const langTable = translations[currentLang] || translations.ko;
        const template = langTable?.[key] ?? translations.ko?.[key] ?? key;
        if (typeof template !== "string") {
          return template;
        }
        return template.replace(/\{(\w+)\}/g, (_, token) =>
          vars[token] !== undefined ? vars[token] : `{${token}}`
        );
      }

      function applyTranslations() {
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          el.textContent = t(el.dataset.i18n);
        });
        document.querySelectorAll("[data-i18n-html]").forEach((el) => {
          el.innerHTML = t(el.dataset.i18nHtml);
        });
        // Update select options
        const skinSelect = $("#skin");
        if (skinSelect) {
          Array.from(skinSelect.options).forEach((opt) => {
            if (opt.dataset.i18n) {
              opt.textContent = t(opt.dataset.i18n);
            }
          });
        }
        const goalSelect = $("#goal");
        if (goalSelect) {
          Array.from(goalSelect.options).forEach((opt) => {
            if (opt.dataset.i18n) {
              opt.textContent = t(opt.dataset.i18n);
            }
          });
        }
        // Update product/trait labels
        document.querySelectorAll("#products label, #traits label").forEach((label) => {
          const input = label.querySelector("input");
          if (input && input.value) {
            const key = `product${input.value.charAt(0).toUpperCase() + input.value.slice(1)}` || `trait${input.value.charAt(0).toUpperCase() + input.value.slice(1)}`;
            const text = t(key);
            if (text && text !== key) {
              const textNode = Array.from(label.childNodes).find(n => n.nodeType === 3 && n.textContent.trim());
              if (textNode) {
                textNode.textContent = text;
              } else {
                const span = document.createElement("span");
                span.textContent = text;
                label.insertBefore(span, input);
              }
            }
          }
        });
      }

      function setLang(lang, options = {}) {
        const nextLang = translations[lang] ? lang : defaultLang;
        currentLang = nextLang;
        document.documentElement.lang = nextLang;
        localStorage.setItem("preferredLang", nextLang);
        document.querySelectorAll(".lang-switch button").forEach((button) => {
          button.classList.toggle("active", button.dataset.lang === nextLang);
        });
        applyTranslations();
        // Re-run analyze if there's a result
        if ($("#verdictTitle") && $("#verdictTitle").textContent !== "-") {
          analyze();
        }
        if (options.updateUrl) {
          const url = new URL(window.location.href);
          url.searchParams.set("lang", nextLang);
          window.history.replaceState({}, "", url);
        }
      }

      function detectLang() {
        const params = new URLSearchParams(window.location.search);
        const paramLang = params.get("lang");
        if (supportedLangs.includes(paramLang)) return paramLang;
        const stored = localStorage.getItem("preferredLang");
        if (supportedLangs.includes(stored)) return stored;
        const intlLocale =
          typeof Intl === "object" && typeof Intl.DateTimeFormat === "function"
            ? Intl.DateTimeFormat().resolvedOptions().locale
            : "";
        const sources = [
          ...(navigator.languages || []),
          navigator.language,
          navigator.userLanguage,
          intlLocale,
        ]
          .filter(Boolean)
          .map((locale) => locale.toLowerCase());
        const hasKorean = sources.some((locale) => locale.startsWith("ko"));
        return hasKorean ? "ko" : "en";
      }

      document.querySelectorAll(".lang-switch button").forEach((button) => {
        button.addEventListener("click", () => {
          setLang(button.dataset.lang, { updateUrl: true });
        });
      });

      setLang(detectLang(), { updateUrl: false });
    </script>
  
<ins class="adsbygoogle"
     style="display:block; text-align:center"
     data-ad-client="ca-pub-1204894220949193"
     data-ad-slot="5145068706"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    
</body>
</html>
